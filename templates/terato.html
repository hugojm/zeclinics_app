<!doctype html>
  <title>Terato</title>
  <head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename= 'css/style.css') }}">
  </head>
  <body class="body_terato">
    <div class="pos">
    <form method=post enctype=multipart/form-data>
      <label>
        <img class="but_file">
        <input type=file name='file[]' style="display:none" webkitdirectory mozdirectory />
      </label>
      <label>
        <img class="but_upload">
        <input type=submit name=Upload style="display:none">
      </label>
    </form>
    {% if done %}
      <br>
        <select id="comp_select">
          {% for well in plates %}
          <option value="{{ well }}">{{ well }}</option>
          {% endfor %}
        </select>
        <br>
        <br>
        <input type="checkbox" id="eyes_dorsal" onclick="calc('eyes_dorsal')"/>
        <label id="eyes_dorsal_text">Eyes dorsal</label>
        <br>
        <input type="checkbox" id="heart" onclick="calc('heart')"/>
        <label id="heart_text">Heart</label>
        <br>
        <input type="checkbox" id="outline_dorsal" onclick="calc('outline_dorsal')"/>
        <label id="outline_dorsal_text">Outline dorsal</label>
        <br>
        <input type="checkbox" id="outline_lateral" onclick="calc('outline_lateral')"/>
        <label id="outline_lateral_text">Outline lateral</label>
        <br>
        <input type="checkbox" id="ov" onclick="calc('ov')"/>
        <label id="ov_text">Ov</label>
        <br>
        <input type="checkbox" id="yolk" onclick="calc('yolk')"/>
        <label id="yolk_text">Yolk</label>

          <div class="print" id ="lateral_div"> </div>
          <div class="print1" id ="dorsal_div"> </div>
          <div class="print1" id ="eyes_dorsal_div"> </div>
          <div class="print1" id ="outline_dorsal_div"> </div>
          <div class="print" id ="outline_lateral_div"> </div>
          <div class="print" id ="heart_div"> </div>
          <div class="print" id ="ov_div"> </div>
          <div class="print" id ="yolk_div"> </div>



    {% endif %}
    <script type="text/javascript">
    var types = ["eyes_dorsal", "heart", "outline_dorsal", "outline_lateral", "ov", "yolk"];
    document.getElementById("comp_select").onchange = function(){
      var path = document.getElementById("comp_select").value;
      var div = document.getElementById("lateral_div");
      div.innerHTML = '<img src={{url_for('static',filename= '')}}'+ path.substring(7) +'/lateral.png' + '/>';
      var div2 = document.getElementById("dorsal_div");
      div2.innerHTML = '<img src={{url_for('static',filename= '')}}'+ path.substring(7) +'/dorsal.png' + '/>';
      types.forEach((item) => {
        calc(item);
      });

     };

    function calc(type)
      {
      var e = document.getElementById("comp_select");
      var path = e.value;
      if (document.getElementById(type).checked)
      {
        var image = path + "/" + type + "_out.png"
        var div = document.getElementById(type+"_div");
        div.innerHTML = '<img src={{url_for('static',filename= '')}}'+image.substring(7)+ '/>';
      }
      else{
        document.getElementById(type+"_div").innerHTML = '';
      }
    };


    </script>

  </body>
